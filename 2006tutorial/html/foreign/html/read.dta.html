<html><head><title>R: Read Stata binary files</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for read.dta {foreign}"><tr><td>read.dta {foreign}</td><td align="right">R Documentation</td></tr></table>
<h2>Read Stata binary files</h2>


<h3>Description</h3>

<p>
Reads a file in Stata version 5-8 or 7/SE binary format into a data frame.
</p>


<h3>Usage</h3>

<pre>
read.dta(file, convert.dates = TRUE, tz = NULL,
         convert.factors = TRUE, missing.type = FALSE,
         convert.underscore=TRUE, warn.missing.labels=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>file</code></td>
<td>
a filename as a character string.</td></tr>
<tr valign="top"><td><code>convert.dates</code></td>
<td>
Convert Stata dates to <code>Date</code> class?</td></tr>
<tr valign="top"><td><code>tz</code></td>
<td>
Previously used to specify time zone. Now deprecated.</td></tr>
<tr valign="top"><td><code>convert.factors</code></td>
<td>
Use Stata value labels to create factors?
(version 6.0 or later)</td></tr>
<tr valign="top"><td><code>missing.type</code></td>
<td>
For version 8 only, store information about
different types of missing data?</td></tr>
<tr valign="top"><td><code>convert.underscore</code></td>
<td>
Convert <code>"_"</code> in Stata variable names
to <code>"."</code> in R names?</td></tr>
<tr valign="top"><td><code>warn.missing.labels</code></td>
<td>
Warn if a variable is specified with value
labels and those value labels are not present in the file.</td></tr>
</table>

<h3>Details</h3>

<p>
The variables in the Stata data set become the columns of the data
frame.  Missing values are correctly handled.  The data label,
variable labels, and timestamp are stored as attributes of the data
frame.  Nothing is done with variable characteristics.
</p>
<p>
Optionally, Stata dates (%d formats) are converted to <font face="Courier New,Courier" color="#666666"><b>R</b></font>'s
<code>Date</code> class and variables with Stata value labels are
converted to factors. In any case the value label and format
information is stored as attributes on the returned data frame. 
</p>
<p>
Stata 8.0 has 27 different missing data values. If <code>missing.type</code>
is <code>TRUE</code> a separate list is created with the same variable
names as the loaded data. For string variables the list value is
<code>NULL</code>. For other variables the value is <code>NA</code> where the
observation is not missing and 0-26 when the observation is
missing. This is attached as the code{"missing"} attribute of the
returned value.
</p>
<p>
The option to allow underscores in variable names may become the
default in future versions now that R supports their use.
</p>


<h3>Value</h3>

<p>
a data frame</p>

<h3>Author(s)</h3>

<p>
Thomas Lumley
</p>


<h3>References</h3>

<p>
Stata Users Manual (versions 5 &amp; 6), Programming manual (version 7),
or online help (version 8) describe the format of the files.
</p>


<h3>See Also</h3>

<p>
<code><a href="write.dta.html">write.dta</a></code>,
<code><a href="../../base/html/attributes.html">attributes</a></code>
<code><a href="../../base/html/Dates.html">Date</a></code>
<code><a href="../../base/html/factor.html">factor</a></code>
</p>


<h3>Examples</h3>

<pre>
data(swiss)
write.dta(swiss,swissfile&lt;-tempfile())
read.dta(swissfile)
</pre>



<hr><div align="center">[Package <em>foreign</em> version 0.8-6 <a href="00Index.html">Index]</a></div>

</body></html>
